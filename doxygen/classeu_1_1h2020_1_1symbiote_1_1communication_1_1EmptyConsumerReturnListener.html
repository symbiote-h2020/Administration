<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Administration: eu.h2020.symbiote.communication.EmptyConsumerReturnListener Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Administration
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>eu</b></li><li class="navelem"><b>h2020</b></li><li class="navelem"><b>symbiote</b></li><li class="navelem"><b>communication</b></li><li class="navelem"><a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html">EmptyConsumerReturnListener</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">eu.h2020.symbiote.communication.EmptyConsumerReturnListener Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for eu.h2020.symbiote.communication.EmptyConsumerReturnListener:</div>
<div class="dyncontent">
<div class="center"><img src="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener__inherit__graph.png" border="0" usemap="#eu_8h2020_8symbiote_8communication_8EmptyConsumerReturnListener_inherit__map" alt="Inheritance graph"/></div>
<map name="eu_8h2020_8symbiote_8communication_8EmptyConsumerReturnListener_inherit__map" id="eu_8h2020_8symbiote_8communication_8EmptyConsumerReturnListener_inherit__map">
</map>
</div>
<div class="dynheader">
Collaboration diagram for eu.h2020.symbiote.communication.EmptyConsumerReturnListener:</div>
<div class="dyncontent">
<div class="center"><img src="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener__coll__graph.png" border="0" usemap="#eu_8h2020_8symbiote_8communication_8EmptyConsumerReturnListener_coll__map" alt="Collaboration graph"/></div>
<map name="eu_8h2020_8symbiote_8communication_8EmptyConsumerReturnListener_coll__map" id="eu_8h2020_8symbiote_8communication_8EmptyConsumerReturnListener_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9ec79d1d093e2380bf03fa1f76ce2261"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html#a9ec79d1d093e2380bf03fa1f76ce2261">EmptyConsumerReturnListener</a> ()</td></tr>
<tr class="separator:a9ec79d1d093e2380bf03fa1f76ce2261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612cd000e7188e6f05091e3f3673fb1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html#a612cd000e7188e6f05091e3f3673fb1d">handleReturn</a> (int replyCode, String replyText, String exchange, String routingKey, AMQP.BasicProperties properties, byte[] body)  throws IOException </td></tr>
<tr class="separator:a612cd000e7188e6f05091e3f3673fb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1b35e4c336a029f118a19b9162e812"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html#aaa1b35e4c336a029f118a19b9162e812">addListener</a> (String queueName, String correlationId, <a class="el" href="interfaceeu_1_1h2020_1_1symbiote_1_1communication_1_1IRpcResponseListener.html">IRpcResponseListener</a> listener)</td></tr>
<tr class="separator:aaa1b35e4c336a029f118a19b9162e812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ad674c17d6304781ed91117aac0153"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html#a89ad674c17d6304781ed91117aac0153">removeListener</a> (String queueName, String correlationId)</td></tr>
<tr class="separator:a89ad674c17d6304781ed91117aac0153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc62e8333afe576bc3a211195f7ade06"><td class="memItemLeft" align="right" valign="top">Map&lt; Pair, <a class="el" href="interfaceeu_1_1h2020_1_1symbiote_1_1communication_1_1IRpcResponseListener.html">IRpcResponseListener</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html#afc62e8333afe576bc3a211195f7ade06">getListenerMap</a> ()</td></tr>
<tr class="separator:afc62e8333afe576bc3a211195f7ade06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class responsible for handling RPC messages send to an exchange without bound consumers. </p>
<p>When request is sent to an exchange without any consumers subscribed, it will not be buffered, but will disappear without any trace. Therefore, not only the request will not be served, but also caller will not get back any notification, since communication is done asynchronously. That's where <a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html">EmptyConsumerReturnListener</a> comes to work. If it gets called by failing to deliver a mandatory message, it will notify the registered response listener that the request could not be served. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9ec79d1d093e2380bf03fa1f76ce2261"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eu.h2020.symbiote.communication.EmptyConsumerReturnListener.EmptyConsumerReturnListener </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default empty constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaa1b35e4c336a029f118a19b9162e812"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eu.h2020.symbiote.communication.EmptyConsumerReturnListener.addListener </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>queueName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>correlationId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceeu_1_1h2020_1_1symbiote_1_1communication_1_1IRpcResponseListener.html">IRpcResponseListener</a>&#160;</td>
          <td class="paramname"><em>listener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method used to register response listener for specified reply queue name and correlation ID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queueName</td><td>reply queue name to register listener for </td></tr>
    <tr><td class="paramname">correlationId</td><td>correlation ID to register listener for </td></tr>
    <tr><td class="paramname">listener</td><td>response listener to register </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afc62e8333afe576bc3a211195f7ade06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;Pair, <a class="el" href="interfaceeu_1_1h2020_1_1symbiote_1_1communication_1_1IRpcResponseListener.html">IRpcResponseListener</a>&gt; eu.h2020.symbiote.communication.EmptyConsumerReturnListener.getListenerMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For the purpose of Unit Tests.</p>
<dl class="section return"><dt>Returns</dt><dd>map of registered listeners </dd></dl>

</div>
</div>
<a class="anchor" id="a612cd000e7188e6f05091e3f3673fb1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eu.h2020.symbiote.communication.EmptyConsumerReturnListener.handleReturn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replyCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>replyText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>exchange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>routingKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AMQP.BasicProperties&#160;</td>
          <td class="paramname"><em>properties</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws IOException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implementation of handling return message from RabbitMQ. </p>
<p>When a mandatory message is to be sent, its response listener is registered using {<a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html#aaa1b35e4c336a029f118a19b9162e812">addListener(String, String, IRpcResponseListener)</a>} method, using reply queue name and correlation ID as key. When the handleReturn method is called, it checks the message's reply queue name and correlation ID to find out if the response listener has been registered for it. If so, it fires it with proper response message (that is status 500 - Internal Server Error, and empty body). </p>
<p>When message was handled succesfully by consumer, its response listener is unregistered from <a class="el" href="classeu_1_1h2020_1_1symbiote_1_1communication_1_1EmptyConsumerReturnListener.html">EmptyConsumerReturnListener</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">replyCode</td><td>irrelevant for this implementation of ReturnListener </td></tr>
    <tr><td class="paramname">replyText</td><td>irrelevant for this implementation of ReturnListener </td></tr>
    <tr><td class="paramname">exchange</td><td>irrelevant for this implementation of ReturnListener </td></tr>
    <tr><td class="paramname">routingKey</td><td>irrelevant for this implementation of ReturnListener </td></tr>
    <tr><td class="paramname">properties</td><td>properties object that was sent with the message; it should contain both replyTo and correlationId parameters </td></tr>
    <tr><td class="paramname">body</td><td>irrelevant for this implementation of ReturnListener </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a89ad674c17d6304781ed91117aac0153"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eu.h2020.symbiote.communication.EmptyConsumerReturnListener.removeListener </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>queueName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>correlationId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method used to unregister response listener for specified reply queue name and correlation ID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queueName</td><td>reply queue name to unregister listener for </td></tr>
    <tr><td class="paramname">correlationId</td><td>correlation ID to unregister listener for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/eu/h2020/symbiote/communication/EmptyConsumerReturnListener.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
